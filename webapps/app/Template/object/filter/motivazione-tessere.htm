@BEGIN_TEMPLATE@
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript">
$(function () {
	var theURl = "ModuleIndex?q=centroascolto/all_stats";
	$.ajax({
		type: "GET",
		url: theURl,
		data: {year: 2015, query:"motivazione-tessere"},
        async: false,        
        cache: false,
        dataType: "json",
        error: function(data){ $("#error-message").show();},
        success: function(data){  
        	$("#error-message").hide(); 

		$('#container').highcharts({
		        chart: {
		            type: 'column'
		        },
		        title: {
		            text: data.title
		        },
		        xAxis: {
		            categories: ['Gen','Feb','Mar','Apr','Mag','Giu','Lug','Ago','Set','Ott','Nov','Dic',]
		        },
		        yAxis: {
		            min: 0,
		            title: {
		                text: data.asseY
		            },
		            stackLabels: {
		                enabled: true,
		                style: {
		                    fontWeight: 'bold',
		                    color: (Highcharts.theme && Highcharts.theme.textColor) || 'gray'
		                }
		            }
		        },
		        legend: {
		            align: 'right',
		            x: -30,
		            verticalAlign: 'top',
		            y: 25,
		            floating: true,
		            backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
		            borderColor: '#CCC',
		            borderWidth: 1,
		            shadow: false
		        },
		        tooltip: {
		            headerFormat: '<b>{point.x}</b><br/>',
		            pointFormat: '{series.name}: {point.y}<br/>Total: {point.stackTotal}'
		        },
		        plotOptions: {
		            column: {
		                stacking: 'normal',
		                dataLabels: {
		                    enabled: true,
		                    color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white',
		                    style: {
		                        textShadow: '0 0 3px black'
		                    }
		                }
		            }
		        },
		        series: data.data
		    });
        }
});
	
});
</script>
	
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>

	
@END_TEMPLATE@